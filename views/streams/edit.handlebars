<div class="row">

  <div class="col-md-6 col-md-offset-3">

    <h1>Edit Stream</h1>

    <form role="form" action="/streams/{{publicKey}}/update/{{privateKey}}" method="POST">

      <div class="form-group">
        <label>Title</label>
        <input type="text" name="title" class="form-control" value="{{post.title}}" placeholder="My Data Stream" required>
      </div>

      <div class="form-group">
        <label>Description</label>
        <textarea name="description" class="form-control" rows="6" placeholder="A SEN-08257 humidity and temp sensor located at NIST in Boulder, CO" required>{{post.description}}</textarea>
      </div>

      <div class="form-group">

        <label>Show in Public Stream List?</label>

        <div>

          <label class="radio-inline">
            <input type="radio" name="hidden" value="0" {{#isHidden}}{{else}}checked{{/isHidden}}> Visible
          </label>

          <label class="radio-inline">
            <input type="radio" name="hidden" value="1" {{#isHidden}}checked{{/isHidden}}> Hidden
          </label>

        </div>

      </div>

      <div class="form-group">
        <label>Fields</label>
        <input type="text" name="fields" value="{{post.fields}}" class="form-control" placeholder="humidity, temp" required>
        <input type="hidden" name="field_check" value="{{post.fields}}">
        <p class="help-block">comma separated.</p>
        <div id="field_warning" class="alert alert-danger" style="display:none;" role="alert"><strong>Warning:</strong> If you change your field definitions, all of your existing stream data will be cleared.</div>
      </div>

      <div class="form-group">
        <label>Tags</label>
        <input type="text" name="tags" value="{{post.tags}}" class="form-control" placeholder="temp, boulder, nist">
        <p class="help-block"><strong>not required.</strong>&nbsp; comma separated.</p>
      </div>

      <div class="form-group">
        <label>Location</label>
        <input type="text" class="form-control" name="location_long" value="{{post.location_long}}">
        <p class="help-block"><strong>not required.</strong></p>
        <input type="hidden" name="location_city" value="{{post.location_city}}">
        <input type="hidden" name="location_state" value="{{post.location_state}}">
        <input type="hidden" name="location_country" value="{{post.location_country}}">
        <input type="hidden" name="location_lat" value="{{post.location_lat}}">
        <input type="hidden" name="location_lng" value="{{post.location_lng}}">
      </div>

      <button type="submit" class="btn btn-primary">Save</button>

    </form>

  </div>

</div>

<script>
  $(document).ready(function() {
    $('form').make();
    $('input[name=fields]').focus(function(e) {
      $('#field_warning').show();
    });
  });
</script>
